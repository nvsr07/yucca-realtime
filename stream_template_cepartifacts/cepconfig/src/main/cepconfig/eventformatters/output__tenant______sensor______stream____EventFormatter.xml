<@pp.dropOutputFile />
<@pp.changeOutputFile name="output__"+tenant.code+"__"+sensor.code_+"_"+stream.code+"__EventFormatter.xml" />
<?xml version="1.0" encoding="UTF-8"?>
<eventFormatter name="output__${tenant.code}__${sensor.code_}__${stream.code}__EventFormatter"
  statistics="disable" trace="disable" xmlns="http://wso2.org/carbon/eventformatter">
  <from streamName="output__${tenant.code}__${sensor.code_}__${stream.code}" version="1.0.0"/>
<mapping customMapping="enable" type="json">
    <inline>{ 
 "Stream": "${stream.code}",
 "Sensor": "{{meta_Sensor}}",
 "Values": [ 
 { 
 "time": "{{time}}", 
 "components": { <#list components as component>  "${component.code}": "{{${component.code}}}" <#if component_has_next>,</#if> </#list>   } 
 }
 ]
} </inline>
  </mapping>
  <to eventAdaptorName="JMSMBExternalOutputEventAdaptor.xml" eventAdaptorType="jms">
    <property name="transport.jms.Destination">output.${tenant.code}.${sensor.code}_${stream.code}</property>
  </to>
</eventFormatter>

