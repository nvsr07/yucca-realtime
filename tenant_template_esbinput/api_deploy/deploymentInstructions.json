<#assign x = 1> 
{
"steps": [
<#list mbs as mb>
{
"number": "${x}",<#assign x = x+1> 
"description":"Installazione della applicazione .car facendo l'upload via webservice sul ESB.", 
"actionType":"CarInstallation",
"sourceType":"file",
"source":"target/api__deploy__${tenant.code}__uploadApp.xml",
"action":"uploadApp",
"destination":"${mb.host}/services/CarbonAppUploader",
"returnExpected":"200", 
"validityControl":"<fault>",
"username":"${mb.secuser}", 
"password":"${mb.secpassword}",
"attachmentPath":"target/${tenant.code}_inputeventscap_1.0.0.car"
},{
"number": "${x}",<#assign x = x+1> 
"description":"Verifica Installazione avvenuta  dell'applicazione .car", 
"actionType":"WebServiceCall",
"sourceType":"file",
"source":"target/api__deploy__${tenant.code}__listAllApplications.xml",
"action":"listAllApplications",
"destination":"${mb.host}/services/ApplicationAdmin",
"returnExpected":"200", 
"successControl":"${tenant.code}_inputeventscap_1.0.0",
"username":"${mb.secuser}", 
"password":"${mb.secpassword}"
},
</#list>
{
"number": "${x}",<#assign x = x+1> 
"description":"Inserimento del tenant su MongoDB",
"actionType":"MongoInstallation",
"sourceType":"api",
"source":"",
"action":"",
"destination":"${mongoconnection.url}",
"returnExpected":"",
"validityControl":"KO",
"username":"",
"password":""
}
]
}
